<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" pngtoy Classes PngImagePngToy Classes Classes PngImage PngToy × Search results Close Epistemex at GitHub "},"index.html":{"id":"index.html","title":"Index","body":" pngtoy Classes PngImagePngToy pngtoyLow-level implementation of PNG file parser/reader/decoder using JavaScript on client size. Why this when browsers already parses PNG files? The browser will simply load and convert any PNG type into RGBA bitmaps. It may also apply ICC and gamma correction to the image resulting in different pixel values than in the original bitmap. pngtoy is for special case scenarios where you need to work with the original bitmap as-is and you need the original pixel values and format (i.e. no gamma, no ICC, indexed, 16-bit, grayscale etc.). This will also keep the bitmap values consistent across browsers as some browser support ICC, gamma, others don't. pngtoy can also be used to analyse PNG files, extract special information such as header, chunks, texts, or to reduce file size, or as a tool to in an attempt to repair a PNG file, add or remove chunks, and so forth. pngtoy will allow you to work directly with, for example 16-bit greyscale bitmap buffers as well as other formats such as bit-planes (you can still convert the bitmap to RGBA bitmap or canvas). pngtoy attempts to read all formats specified by the W3C standard. pngtoy can also be used to clean up PNG files by stripping unnecessary chunks and rebuild a file you can save as new. pngtoy let you just parse the chunks without decompressing and decoding any data. Features Supports 8-bit, 16-bit, indexed, bit-planes, greyscale, rgb, rgba, transparency and (interlaced). Strict parsing conforming to the standard (can be turned off for error correction purposes) CRC-32 checking for each chunk (can be turned off for error correction purposes) Using typed arrays for best performance Fast gzip implementation (pako) Non UI-blocking asynchronous block based decoding and format converting Access to chunks without the need to decompress or decode bitmaps Access to all stages (raw unfiltered buffer, filtered original format, converted to RGBA) Apply gamma to converted bitmap (file, display and optional user gamma) Handles aspect ratio correctly (pHYs chunk) (can be disabled) Parses compressed ancillary chunks and fields Parses extended chunks such as oFFs, sCAL, pCAL, sTER Uses promises (use Promise polyfill for IE) Can be used in attempt to rescue corrupted PNG files Run the PNG test suit from the tests directory to see current status/rendering (must run from localhost in some browsers due to CORS restrictions). See known issues below. Installpngtoy can be installed in various ways: Bower bower install pngtoy Git using HTTPS: git clone https://github.com/epistemex/pngtoy.git Git using SSH: git clone git@github.com:epistemex/pngtoy.git Download zip archive and extract. pngtoy.min.js UsageCreate a new and reusable instance of pngtoy parser: var pngtoy = new PngToy([options]);Invoke asynchronous fetching of file using a promise: pngtoy.fetch(&quot;http://url.to/png.file&quot;).then( ... );Now you can extract the information you like from the current PNG file: // get and parse chunks var chunks = pngtoy.getChunks(); // chunk list - does not decode any data // parse individual chunks to object (all official chunks are supported) var ihdr = pngtoy.getChunk(&quot;IHDR&quot;); // return object for parsed IHDR chunk var raw = pngtoy.getChunk(&quot;IDAT&quot;); // get unfiltered but uncompressed bitmap data var palette = pngtoy.getChunk(&quot;PLTE&quot;); // get parsed palette if exists, or null var texts = pngtoy.getChunk(&quot;zTXt&quot;); // get array with parsed and uncompressed zTXt objects var stereo = pngtoy.getChunk(&quot;sTER&quot;); // get stereo mode if stereo image ... // you can also obtain private chunks but will have to parse them manually // decode pngtoy.decode(options).then( ...) ; // get decoded bitmap in original depth and type pngtoy.bitmapToCanvas(bmp, options).then(...) // convert to canvas and apply optional gammaSee also the PngImage object which wraps the basic steps up for convenience (see docs for usage). NOTE: ALPHA version - API may change, see tests for current examples. Known issues (alpha) Interlace (Adam7) mode is currently not implemented Credits pako inflate decompression code by Andrey Tupitsin (@anrd83) and Vitaly Puzrin (@puzrin) Promise polyfill (optional) by @taylorhakes ContributorsSee contributor list here. LicenseReleased under MIT license. You may use this class in both commercial and non-commercial projects provided that full header (minified and developer versions) is included. © 2015-2016 Epistemex × Search results Close Epistemex at GitHub "},"PngImage.html":{"id":"PngImage.html","title":"Class: PngImage","body":" pngtoy Classes PngImagePngToy Class: PngImage PngImage new PngImage() Emulates the Image object but will load a PNG image without applying gamma, ICC etc. The main purpose is to function as a wrapper for the various steps needed to load a PNG via low-level pngtoy. NOTE: An important distinction is that you need to pass in img.bitmap to canvas instead of just img. × Search results Close Epistemex at GitHub "},"PngToy.html":{"id":"PngToy.html","title":"Class: PngToy","body":" pngtoy Classes PngImagePngToy Class: PngToy PngToy new PngToy(options) Creates a new PngToy object which is used to load a PNG image off the network as raw file. It provides methods to extract chunks as parsed objects as well as decompressing, decoding and filtering the bitmap. Parameters: Name Type Description options object options Properties Name Type Argument Default Description doCRC boolean &lt;optional&gt; true enable/disable CRC-32 check for chunks (useful for repairing PNG files) allowInvalid boolean &lt;optional&gt; false less strict passing allowing invalid data/chunks (useful for repairing PNG files) beforeSend function &lt;optional&gt; callback allowing setting headers before making xhr request. Members buffer :null|ArrayBuffer The fetched buffer (the raw file bytes). Type: null | ArrayBuffer chunks :null|Array Array holding all the chunks objects. These can be used to manually parse the file. Type: null | Array url :null|string The URL that has been fetched. Type: null | string view :null|DataView The view used for the file buffer. Type: null | DataView Methods &lt;static&gt; _getChunks(buffer, view, doCRC, allowInvalid) Get and validate chunks Parameters: Name Type Description buffer view doCRC allowInvalid decode() Decodes the filtered bitmap from the PNG to a RAW but filtered bitmap of same byte width and depth as well as byte-order. Passes a bitmap object as argument to the promise when done. The decoding is asynchronous. Call this method after fetch() has been used. The resolve function will receive a bitmap as argument, if rejected a string containing the error will be passed. The bitmap contains the filtered bitmap as well as some key information (additional information is extracted from the chunks). Returns: Type Promise fetch(url) Start loading a PNG image from an URL. CORS restrictions apply. It will call the resolve function with a bitmap representing the raw unfiltered bitmap. Pass this bitmap object to decode() to get a raw filtered bitmap, and further to convert() to get a RGBA bitmap. Parameters: Name Type Description url string url to PNG image Returns: Type Promise getChunk() Get a parsed version of the named chunk. An object is returned with properties representing the specifics of this chunk. If no chunks are present null will be returned. Returns: Type * | null getGammaLUT( [fileGamma] [, dispGamma] [, userGamma]) Creates a look-up table (LUT) for the provided file gamma, and optionally display and user gamma. Display gamma is usually either 2.2 (Windows, Linux) or 1.8 (Mac). It is used internally but is provided if you want to apply gamma to the bitmap manually. NOTE that this LUT table is limited to 8-bit values. Parameters: Name Type Argument Default Description fileGamma number &lt;optional&gt; 1 dispGamma number &lt;optional&gt; 2.2 userGamma number &lt;optional&gt; 1 Returns: Type Uint8Array guessDisplayGamma() Guess the display gamma on this system, usually 2.2 (Windows, Linux) or 1.8 (Mac). If unable to detect system a default of 2.2 will be used. This is used when a raw bitmap is converted to a RGBA bitmap and gamma is enabled. Returns: Type number × Search results Close Epistemex at GitHub "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
